<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Jura Prüfung</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; background: #f4f4f4; }
    .quiz-box { background: white; padding: 2rem; border-radius: 10px; max-width: 800px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .question { margin-bottom: 1rem; font-weight: bold; }
    .options input { margin-right: 0.5rem; }
    button { padding: 0.5rem 1rem; border: none; background: #007BFF; color: white; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0056b3; }
    .result { margin-top: 2rem; font-size: 1.2rem; font-weight: bold; }
    #quiz-section { display: none; }
  </style>
</head>
<body>
  <div class="quiz-box">
    <h1>Jura Prüfung</h1>
    <div id="login-section">
      <p><label>Name: <input type="text" id="username" required></label></p>
      <p><label>ID: <input type="text" id="userid" required></label></p>
      <button onclick="startQuiz()">Start</button>
    </div>

    <div id="quiz-section">
      <div id="quiz"></div>
      <button onclick="submitQuiz()">Abschicken</button>
    </div>

    <div id="result" class="result"></div>
  </div>

  <script>
    const questions = [
      { q: "Was kostet das Fahren ohne Fahrerlaubnis?", options: ["10.000 €", "5.000 €", "7.500 €", "15.000 €"], answer: 2 },
      { q: "Welches Gesetz greift bei Mord?", options: ["StGB", "StVO", "BtMG", "WaffG"], answer: 0 },
      { q: "Wofür gibt es Haft, aber kein Bußgeld?", options: ["Totschlag", "Fahrlässige Körperverletzung", "Datenschutzverstoß", "Meth-Besitz"], answer: 0 },
      { q: "Wie hoch ist das Bußgeld für Fahren ohne Licht bei Nacht?", options: ["15 €", "25 €", "40 €", "10 €"], answer: 1 },
      { q: "BtMG steht für...", options: ["Betäubungsmittelgesetz", "Bundestechnisches Militärgesetz", "Beamten-Transportgesetz", "Bußgeld-Tatmittelgesetz"], answer: 0 },
      { q: "Was ist eine Fangfrage?", options: ["Eine besonders schwere Frage", "Eine Frage mit doppeltem Boden", "Eine juristisch falsche Frage", "Eine Frage ohne Antwort"], answer: 1 },
      { q: "Wie viele Punkte gibt es in Flensburg für Rotlichtverstoß mit Gefährdung?", options: ["1", "2", "3", "0"], answer: 2 },
      { q: "StVO regelt...", options: ["Straßenverkehrsordnung", "Strafvollzugsordnung", "Staatsverfassung", "Stromversorgungsverordnung"], answer: 0 },
      { q: "Wer darf Strafzettel ausstellen?", options: ["Jeder", "Nur Polizisten", "Nur Beamte", "Nur Behördenmitarbeiter"], answer: 3 },
      { q: "Was ist bei einer Anzeige wegen Diebstahl zu beachten?", options: ["Tatnachweis", "Anzeigezeit", "Zeugen", "Alles genannte"], answer: 3 },
      { q: "Welche Strafe droht bei Beleidigung gemäß StGB?", options: ["Bis 1 Jahr Haft oder Geldstrafe", "Nur Geldstrafe", "Führerscheinentzug", "Verwarnung"], answer: 0 },
      { q: "Was passiert bei 0,5 Promille Alkohol im Straßenverkehr?", options: ["Nichts", "Bußgeld und Fahrverbot", "Gefängnis", "Verwarnung"], answer: 1 },
      { q: "Fangfrage: Ist das Tragen von Waffen in der Öffentlichkeit erlaubt?", options: ["Immer", "Ja, mit Waffenschein", "Nein, niemals", "Nur bei Gefahr"], answer: 1 },
      { q: "BDG steht für...", options: ["Bundesdatenschutzgesetz", "Bundesdisziplinargesetz", "Bürgerdienstgesetz", "Beamten-Dienst-Gesetz"], answer: 1 },
      { q: "Wie nennt man das Prinzip 'Unschuldig bis zum Beweis der Schuld'?", options: ["Rechtsstaatlichkeit", "Unschuldsvermutung", "Gnadengesetz", "Legalitätsprinzip"], answer: 1 },
    ];

    function startQuiz() {
      const name = document.getElementById("username").value.trim();
      const id = document.getElementById("userid").value.trim();
      if (!name || !id) {
        alert("Bitte Name und ID eingeben!");
        return;
      }
      document.getElementById("login-section").style.display = "none";
      document.getElementById("quiz-section").style.display = "block";
      loadQuiz();
    }

    function loadQuiz() {
      const quiz = document.getElementById("quiz");
      questions.forEach((q, i) => {
        const div = document.createElement("div");
        div.className = "question-box";
        div.innerHTML = `
          <div class="question">${i + 1}. ${q.q}</div>
          <div class="options">
            ${q.options.map((opt, idx) => `<label><input type="radio" name="q${i}" value="${idx}"> ${opt}</label><br>`).join('')}
          </div>`;
        quiz.appendChild(div);
      });
    }

    function submitQuiz() {
      let score = 0;
      const answers = [];
      questions.forEach((q, i) => {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        const ans = selected ? parseInt(selected.value) : -1;
        answers.push(ans);
        if (ans === q.answer) score++;
      });

      const payload = {
        name: document.getElementById("username").value.trim(),
        id: document.getElementById("userid").value.trim(),
        score,
        answers
      };

      fetch("https://script.googleusercontent.com/macros/s/AKfycbzqJNO7FGHhL4ip-f-kkNVrsR0JLWaDKHiGlSLL6eya5Wkt_YbYw0pjPhDqrsn10C8YwQ/exec",
	  
	  .catch(error => {
		console.error("Fehler beim Senden:", error);
		alert("Es gab ein Problem beim Absenden des Formulars. Bitte später nochmal versuchen.");
		});


        method: "POST",
        body: JSON.stringify(payload),
        headers: { "Content-Type": "application/json" }
      })
      .then(() => {
        document.getElementById("quiz-section").style.display = "none";
        document.getElementById("result").innerText = "Vielen Dank für deine Teilnahme!";
      })
      .catch(err => {
        document.getElementById("result").innerText = "Fehler beim Senden der Daten.";
        console.error(err);
      });
    }
  </script>
</body>
</html>
